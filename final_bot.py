import telebot
from telebot.types import InlineKeyboardMarkup, InlineKeyboardButton

import os
BOT_TOKEN = os.environ['BOT_TOKEN']

# –°–æ–∑–¥–∞–µ–º –±–æ—Ç–∞
bot = telebot.TeleBot(BOT_TOKEN)

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
@bot.message_handler(commands=['start'])
def send_welcome(message):
    # –°–æ–∑–¥–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
    markup = InlineKeyboardMarkup(row_width=1)
    
    btn1 = InlineKeyboardButton("üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞", callback_data='tech')
    btn2 = InlineKeyboardButton("üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è", callback_data='geo') 
    btn3 = InlineKeyboardButton("üë• –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ", callback_data='soc')
    btn4 = InlineKeyboardButton("üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º", callback_data='contact')
    btn5 = InlineKeyboardButton("‚ÑπÔ∏è –û –±–æ—Ç–µ", callback_data='about')
    
    markup.add(btn1, btn2, btn3, btn4, btn5)
    
    bot.send_message(
        message.chat.id,
        """üéì –£—á–µ–±–Ω—ã–π –±–æ—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –¥–∏—Å—Ü–∏–ø–ª–∏–Ω:

- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ üñ•Ô∏è
- –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ ‚öñÔ∏è
- –ì–µ–æ–≥—Ä–∞—Ñ–∏—è üåç

‚ùó–ù–∏–∂–µ, —Å–ª–µ–¥—É—è –ø–æ –∫–Ω–æ–ø–∫–∞–º –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å –Ω–∞ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞.""",
        reply_markup=markup
    )

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏
@bot.callback_query_handler(func=lambda call: True)
def handle_query(call):
    if call.data == 'tech':
        text = """
üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã:

üîπ –¢–µ–º–∞ 1: –û—Å–Ω–æ–≤—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 2: –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤  
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
‚Ä¢ –ö–æ–Ω—Å–ø–µ–∫—Ç: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 3: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ —É—á–µ–±–Ω–æ–º –ø—Ä–æ—Ü–µ—Å—Å–µ
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
"""
    elif call.data == 'geo':
        text = """
üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã:

üîπ –¢–µ–º–∞ 1: –§–∏–∑–∏—á–µ—Å–∫–∞—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—è
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 2: –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—è
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 3: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—è  
‚Ä¢ –ö–æ–Ω—Å–ø–µ–∫—Ç: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
"""
    elif call.data == 'soc':
        text = """
üë• –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã:

üîπ –¢–µ–º–∞ 1: –û—Å–Ω–æ–≤—ã –æ–±—â–µ—Å—Ç–≤–∞
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
‚Ä¢ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 2: –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞
‚Ä¢ –õ–µ–∫—Ü–∏—è: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç

üîπ –¢–µ–º–∞ 3: –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è
‚Ä¢ –ö–æ–Ω—Å–ø–µ–∫—Ç: —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç
"""
    elif call.data == 'contact':
        text = """
üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è:

üë®‚Äçüè´ –¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤ –¢–µ—Å—Ç–æ–≤–∏—á
üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 000 000 00
üè¢ –ö–∞–±–∏–Ω–µ—Ç: (–∫–∞–±–∏–Ω–µ—Ç)
üí¨ Telegram: @ tg_teacher

"""
    elif call.data == 'about':
        text = """
‚ÑπÔ∏è –û –±–æ—Ç–µ:

–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–º–æ—â–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º –≤ –∏–∑—É—á–µ–Ω–∏–∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω:
‚Ä¢ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
‚Ä¢ –ì–µ–æ–≥—Ä–∞—Ñ–∏—è  
‚Ä¢ –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ

üìö –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
‚Ä¢ –î–æ—Å—Ç—É–ø –∫ –ª–µ–∫—Ü–∏—è–º –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è–º
‚Ä¢ –ö–æ–Ω—Å–ø–µ–∫—Ç—ã –∑–∞–Ω—è—Ç–∏–π  
‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ.
"""
    elif call.data == 'back':
        # –í–æ–∑–≤—Ä–∞—Ç –∫ –≥–ª–∞–≤–Ω–æ–º—É –º–µ–Ω—é
        markup = InlineKeyboardMarkup(row_width=1)
        markup.add(
            InlineKeyboardButton("üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å—Ä–µ–¥—Å—Ç–≤–∞", callback_data='tech'),
            InlineKeyboardButton("üåç –ì–µ–æ–≥—Ä–∞—Ñ–∏—è", callback_data='geo'),
            InlineKeyboardButton("üë• –û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ", callback_data='soc'),
            InlineKeyboardButton("üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º", callback_data='contact'),
            InlineKeyboardButton("‚ÑπÔ∏è –û –±–æ—Ç–µ", callback_data='about')
        )
        bot.edit_message_text(
            "üéì –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —É—á–µ–±–Ω—ã–π –±–æ—Ç!\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É:",
            call.message.chat.id,
            call.message.message_id,
            reply_markup=markup
        )
        return
    
    # –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" –¥–ª—è –≤—Å–µ—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ –∫—Ä–æ–º–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
    markup = InlineKeyboardMarkup()
    markup.add(InlineKeyboardButton("‚¨ÖÔ∏è –ù–∞–∑–∞–¥", callback_data='back'))
    
    # –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–æ–≤–æ–≥–æ
    bot.edit_message_text(
        text,
        call.message.chat.id,
        call.message.message_id,
        reply_markup=markup
    )

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
print("‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!")
print("üì± –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Telegram –∏ –Ω–∞–ø–∏—à–∏—Ç–µ /start –≤–∞—à–µ–º—É –±–æ—Ç—É")
print("‚èπÔ∏è –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ Ctrl+C")

bot.infinity_polling()